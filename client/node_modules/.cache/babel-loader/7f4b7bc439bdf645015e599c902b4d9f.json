{"ast":null,"code":"import _classCallCheck from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/uusi/front4/sipuliton/client/src/modules/home/components/SearchResults.js\";\n\n/*\n\n  This file contains how the search results are shown\n\n*/\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport '../../../styles/landingpage.css';\n/* Localization */\n\nimport LocalizedStrings from 'react-localization';\n\nvar SearchResults =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SearchResults, _React$Component);\n\n  function SearchResults(props) {\n    var _this;\n\n    _classCallCheck(this, SearchResults);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchResults).call(this, props));\n    _this.renderWeblink = _this.renderWeblink.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      error: null,\n      restaurants: props.restaurants.restaurants\n    };\n    console.log(\"SearchResults: Received following props:\");\n    console.log(props);\n    return _this;\n  } //Prints out how many stars the restaurant has\n\n\n  _createClass(SearchResults, [{\n    key: \"renderStars\",\n    value: function renderStars(starCount) {\n      //console.log(\"DEBUG: Starcount\");\n      //console.log(starCount);\n      var starIcons = [];\n\n      while (starCount >= 1) {\n        starIcons.push(React.createElement(FontAwesomeIcon, {\n          icon: \"star\",\n          key: starIcons.length,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }));\n        starCount = starCount - 1;\n      } //console.log(starCount);\n\n\n      if (starCount >= 0.5) {\n        starIcons.push(React.createElement(FontAwesomeIcon, {\n          icon: \"star-half\",\n          key: 0.5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        })); //console.log(\"Half star added\");\n      } //console.log(starIcons);\n\n\n      return starIcons;\n    }\n  }, {\n    key: \"renderWeblink\",\n    value: function renderWeblink(address) {\n      if (address != null) {\n        return [React.createElement(\"a\", {\n          href: address,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, \" \", address, \" \"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        })];\n      } else {\n        return '';\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      /* Localization */\n      var strings = new LocalizedStrings({\n        en: {\n          searchresults: \"In search found \",\n          restaurants: \" restaurants: \"\n        },\n        fi: {\n          searchresults: \"Haulla löytyi \",\n          restaurants: \" ravintolaa: \"\n        }\n      });\n\n      if (typeof this.props.language !== 'undefined') {\n        strings.setLanguage(this.props.language);\n      } else {\n        strings.setLanguage('fi');\n      }\n\n      var restaurants = this.state.restaurants;\n      return React.createElement(\"div\", {\n        className: \"eventsDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \" \", strings.searchresults, restaurants.length, strings.restaurants), restaurants.map(function (restaurant) {\n        return React.createElement(\"div\", {\n          className: \"event\",\n          key: restaurant.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: '/restaurant/${restaurant.restaurant_id}',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, \" \", restaurant.restaurant_name, \" \"), \"  \", _this2.renderStars(restaurant.rating_overall), \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }), restaurant.street_address, \", \", restaurant.city_name);\n      }));\n    }\n  }]);\n\n  return SearchResults;\n}(React.Component);\n\nexport default SearchResults;","map":{"version":3,"sources":["/home/uusi/front4/sipuliton/client/src/modules/home/components/SearchResults.js"],"names":["React","FontAwesomeIcon","LocalizedStrings","SearchResults","props","renderWeblink","bind","state","error","restaurants","console","log","starCount","starIcons","push","length","address","strings","en","searchresults","fi","language","setLanguage","map","restaurant","name","restaurant_name","renderStars","rating_overall","street_address","city_name","Component"],"mappings":"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","sourcesContent":["/*\n\n  This file contains how the search results are shown\n\n*/\n\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport '../../../styles/landingpage.css';\n\n/* Localization */\nimport LocalizedStrings from 'react-localization';\n\nclass SearchResults extends React.Component {\n\nconstructor(props) {\n    super(props);\n    \n    this.renderWeblink = this.renderWeblink.bind(this);\n    \n    this.state = {\n      error: null,\n      restaurants: props.restaurants.restaurants\n    };\n\n    console.log(\"SearchResults: Received following props:\")\n    console.log(props);\n  }\n\n  //Prints out how many stars the restaurant has\n  renderStars(starCount)\n  {\n    //console.log(\"DEBUG: Starcount\");\n    //console.log(starCount);\n\n    const starIcons = [];\n    while(starCount >= 1)\n    {\n      starIcons.push(<FontAwesomeIcon icon=\"star\" key={starIcons.length} />);\n      starCount = starCount - 1;\n    }\n    //console.log(starCount);\n    if(starCount >= 0.5)\n    {\n      starIcons.push(<FontAwesomeIcon icon=\"star-half\" key={0.5} />);\n      //console.log(\"Half star added\");\n    }\n    //console.log(starIcons);\n    return starIcons\n  }\n  \n  renderWeblink(address)\n  {\n    if(address != null) {\n      return ([<a href={address}> {address} </a>, <br/>]);\n    }\n    else {\n      return ('');\n    }\n  }\n\n  render() {\n\n    /* Localization */\n    let strings = new LocalizedStrings({\n      en:{\n        searchresults:\"In search found \",\n        restaurants:\" restaurants: \",\n      },\n      fi: {\n        searchresults:\"Haulla löytyi \",\n        restaurants:\" ravintolaa: \",\n      }\n    });\n    if(typeof this.props.language !== 'undefined'){\n      strings.setLanguage(this.props.language);\n    }\n    else{\n      strings.setLanguage('fi');\n    }\n\n    const restaurants = this.state.restaurants;\n\n    return (\n      <div className=\"eventsDiv\">\n        <h3> {strings.searchresults}{restaurants.length}{strings.restaurants}</h3>\n\n          {restaurants.map((restaurant) =>\n            <div className=\"event\" key={restaurant.name}>\n            <a href={'/restaurant/${restaurant.restaurant_id}'}> {restaurant.restaurant_name} </a>  {this.renderStars(restaurant.rating_overall)} <br/>\n            {restaurant.street_address}, {restaurant.city_name}\n            </div>\n          )}\n\n      </div>\n    );\n  }\n\n}\n\nexport default SearchResults;\n"]},"metadata":{},"sourceType":"module"}