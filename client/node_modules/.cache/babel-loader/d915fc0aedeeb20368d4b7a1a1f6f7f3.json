{"ast":null,"code":"import _regeneratorRuntime from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/uusi/front4/sipuliton/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/uusi/front4/sipuliton/client/src/modules/register/components/Register.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { render } from 'react-dom';\nimport { Button, Form, FormGroup, Input, Label } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Auth } from \"aws-amplify\";\nimport commonComponents from '../../common';\nimport config from \"../../../config.js\";\n/* Localization */\n\nimport LocalizedStrings from 'react-localization';\n\nvar Register =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Register, _React$Component);\n\n  function Register(props) {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    /*construct the default state on first page load*/\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Register).call(this, props));\n\n    _this.handleRegistration =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        var newUser, strings;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                /*use signUp function to register*/\n                event.preventDefault();\n\n                _this.setState({\n                  isLoading: true\n                });\n\n                _context.prev = 2;\n                _context.next = 5;\n                return Auth.signUp({\n                  username: _this.state.username,\n                  password: _this.state.password,\n                  attributes: {\n                    email: _this.state.mail\n                  }\n                });\n\n              case 5:\n                newUser = _context.sent;\n\n                _this.setState({\n                  newUser: newUser\n                });\n\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](2);\n\n                if (_context.t0.code === 'UsernameExistsException') {\n                  strings = new LocalizedStrings({\n                    en: {\n                      msg: 'Error: username already exists'\n                    },\n                    fi: {\n                      msg: 'Virhe: käyttäjätunnus on jo käytössä'\n                    }\n                  });\n                  strings.setLanguage(_this.props.match.params.language);\n                  alert(strings.msg);\n                } else {\n                  alert(_context.t0.message);\n                }\n\n              case 12:\n                _this.setState({\n                  isLoading: false\n                });\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 9]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      isLoading: false,\n      username: \"\",\n      mail: \"\",\n      password: \"\",\n      retypeMail: \"\",\n      retypePass: \"\",\n      newUser: null,\n      ula: false,\n      usernameValid: true,\n      mailValid: true,\n      retypeMailValid: true,\n      passwordValid: true,\n      retypePassValid: true\n    };\n    _this.onUsernameChanged = _this.onUsernameChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onMailChanged = _this.onMailChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onRetypeMailChanged = _this.onRetypeMailChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onPasswordChanged = _this.onPasswordChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onRetypePassChanged = _this.onRetypePassChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onUlaChanged = _this.onUlaChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.validateForm = _this.validateForm.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRegistration = _this.handleRegistration.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.renderConfirmation = _this.renderConfirmation.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.renderForm = _this.renderForm.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"validateForm\",\n    value: function validateForm() {\n      /*Make sure all fields are okay*/\n      var isValid = this.state.usernameValid && this.state.username.length > 0 && this.state.mailValid && this.state.mail.length > 0 && this.state.retypeMailValid && this.state.retypeMail.length > 0 && this.state.passwordValid && this.state.password.length > 0 && this.state.retypePassValid && this.state.retypePass.length > 0 && this.state.ula;\n      return isValid;\n    }\n  }, {\n    key: \"onUsernameChanged\",\n    value: function onUsernameChanged(e) {\n      var username = e.target.value;\n      var isValid = username != null && username.length >= config.login.USERNAME_MIN_LENGTH && username.length <= config.login.USERNAME_MAX_LENGTH;\n      this.setState({\n        username: username,\n        usernameValid: isValid\n      });\n    }\n  }, {\n    key: \"onMailChanged\",\n    value: function onMailChanged(e) {\n      var mail = e.target.value;\n      var re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n      var isValid = mail != null && mail.length >= config.login.EMAIL_MIN_LENGTH && mail.length <= config.login.EMAIL_MAX_LENGTH && re.test(mail);\n      var retypeMailValid = mail === this.state.retypeMail;\n      this.setState({\n        mail: mail,\n        mailValid: isValid,\n        retypeMailValid: retypeMailValid\n      });\n    }\n  }, {\n    key: \"onRetypeMailChanged\",\n    value: function onRetypeMailChanged(e) {\n      var retypeMail = e.target.value;\n      var isValid = retypeMail === this.state.mail;\n      this.setState({\n        retypeMail: retypeMail,\n        retypeMailValid: isValid\n      });\n    }\n  }, {\n    key: \"onPasswordChanged\",\n    value: function onPasswordChanged(e) {\n      var password = e.target.value;\n      var reLowerCase = /[a-z]/;\n      var reNumber = /[0-9]/;\n      var isValid = password != null && password.length >= config.login.PASSWORD_MIN_LENGTH && password.length <= config.login.PASSWORD_MAX_LENGTH && reLowerCase.test(password) && reNumber.test(password);\n      var retypePassValid = password === this.state.retypePass;\n      this.setState({\n        password: password,\n        passwordValid: isValid,\n        retypePassValid: retypePassValid\n      });\n    }\n  }, {\n    key: \"onRetypePassChanged\",\n    value: function onRetypePassChanged(e) {\n      var retypePass = e.target.value;\n      var isValid = retypePass === this.state.password;\n      this.setState({\n        retypePass: retypePass,\n        retypePassValid: isValid\n      });\n    }\n  }, {\n    key: \"onUlaChanged\",\n    value: function onUlaChanged(e) {\n      this.setState({\n        ula: e.target.checked\n      });\n    }\n  }, {\n    key: \"renderConfirmation\",\n    value: function renderConfirmation() {\n      var strings = new LocalizedStrings({\n        en: {\n          successHeader: 'Registration successfull!',\n          successText: ' A confirmation email has been sent to ' + this.state.mail + '. You must click the confirmation link in the email, before you can sign in.',\n          loginBtnText: 'Login'\n        },\n        fi: {\n          successHeader: 'Rekisteröinti onnistui!',\n          successText: 'Sähköpostiisi ' + this.state.mail + ' on lähetetty vahvistusviesti, jonka vahvistuslinkkiä sinun tulee' + ' klikata ennen kuin voit kirjautua sisään.',\n          loginBtnText: 'Kirjaudu'\n        }\n      });\n      strings.setLanguage(this.props.match.params.language);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, strings.successHeader), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, strings.successText), React.createElement(Button, {\n        className: \"main-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, strings.loginBtnText));\n    }\n  }, {\n    key: \"renderForm\",\n    value: function renderForm() {\n      var VInput = commonComponents.VInput;\n      var strings = new LocalizedStrings({\n        en: {\n          username: \"Username:\",\n          register: \"Register\",\n          password: \"Password:\",\n          passwordAgain: \"Password again:\",\n          email: \"Email:\",\n          emailAgain: \"Email again:\",\n          acceptUla: \"I Accept the User Agreement\",\n          alreadyRegistered: \"Already registered? \",\n          loginHere: \"Login here!\"\n        },\n        fi: {\n          username: \"Käyttäjätunnus:\",\n          register: \"Rekisteröidy\",\n          password: \"Salasana:\",\n          passwordAgain: \"Salasana uudelleen:\",\n          email: \"Sähköposti:\",\n          emailAgain: \"Sähköposti uudelleen:\",\n          acceptUla: \"Hyväksyn käyttäjäehdot\",\n          alreadyRegistered: \"Oletko jo rekisteröitynyt? \",\n          loginHere: \"Kirjaudu sisään tästä!\"\n        }\n      });\n      strings.setLanguage(this.props.match.params.language);\n      /*The first form where the user enters info needed for an account*/\n\n      return React.createElement(\"div\", {\n        id: \"register\",\n        className: \"max-w-40\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, strings.register), React.createElement(Form, {\n        onSubmit: this.handleRegistration,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, strings.username), React.createElement(VInput, {\n        type: \"text\",\n        name: \"username\",\n        isValid: this.state.usernameValid,\n        value: this.state.username,\n        onChange: this.onUsernameChanged,\n        required: true,\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, strings.password), React.createElement(VInput, {\n        type: \"password\",\n        name: \"password\",\n        isValid: this.state.passwordValid,\n        value: this.state.password,\n        onChange: this.onPasswordChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, strings.passwordAgain), React.createElement(VInput, {\n        type: \"password\",\n        name: \"retypePass\",\n        isValid: this.state.retypePassValid,\n        value: this.state.retypePass,\n        onChange: this.onRetypePassChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, strings.email), React.createElement(VInput, {\n        type: \"email\",\n        name: \"mail\",\n        isValid: this.state.mailValid,\n        value: this.state.mail,\n        onChange: this.onMailChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, strings.emailAgain), React.createElement(VInput, {\n        type: \"email\",\n        name: \"retypeMail\",\n        isValid: this.state.retypeMailValid,\n        value: this.state.retypeMail,\n        onChange: this.onRetypeMailChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        check: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(Label, {\n        check: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, ' ', React.createElement(VInput, {\n        type: \"checkbox\",\n        name: \"ula\",\n        value: this.state.ula,\n        onChange: this.onUlaChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }), strings.acceptUla)), React.createElement(VInput, {\n        type: \"submit\",\n        value: strings.register,\n        isValid: this.validateForm,\n        className: \"main-btn big-btn max-w-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, strings.alreadyRegistered, React.createElement(Link, {\n        to: '/' + this.props.match.params.language + '/login/',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, strings.loginHere)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      /*decide which form to show, based on whether there is a 'newUser'*/\n      return this.state.newUser === null ? this.renderForm() : this.renderConfirmation();\n    }\n  }]);\n\n  return Register;\n}(React.Component);\n\nexport { Register as default };","map":{"version":3,"sources":["/home/uusi/front4/sipuliton/client/src/modules/register/components/Register.js"],"names":["React","Link","render","Button","Form","FormGroup","Input","Label","FontAwesomeIcon","Auth","commonComponents","config","LocalizedStrings","Register","props","handleRegistration","event","preventDefault","setState","isLoading","signUp","username","state","password","attributes","email","mail","newUser","code","strings","en","msg","fi","setLanguage","match","params","language","alert","message","retypeMail","retypePass","ula","usernameValid","mailValid","retypeMailValid","passwordValid","retypePassValid","onUsernameChanged","bind","onMailChanged","onRetypeMailChanged","onPasswordChanged","onRetypePassChanged","onUlaChanged","validateForm","renderConfirmation","renderForm","isValid","length","e","target","value","login","USERNAME_MIN_LENGTH","USERNAME_MAX_LENGTH","re","EMAIL_MIN_LENGTH","EMAIL_MAX_LENGTH","test","reLowerCase","reNumber","PASSWORD_MIN_LENGTH","PASSWORD_MAX_LENGTH","checked","successHeader","successText","loginBtnText","VInput","register","passwordAgain","emailAgain","acceptUla","alreadyRegistered","loginHere","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { render } from 'react-dom';\nimport {\n  Button,\n\tForm,\n\tFormGroup,\n\tInput,\n\tLabel,\n} from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Auth } from \"aws-amplify\";\nimport commonComponents from '../../common'\n\nimport config from \"../../../config.js\"\n\n/* Localization */\nimport LocalizedStrings from 'react-localization';\n\nexport default class Register extends React.Component {\n\tconstructor(props) {\n\t\t/*construct the default state on first page load*/\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisLoading: false,\n\t\t\tusername: \"\",\n\t\t\tmail: \"\",\n\t\t\tpassword: \"\",\n\t\t\tretypeMail: \"\",\n\t\t\tretypePass: \"\",\n\t\t\tnewUser: null,\n\t\t\tula: false,\n\n\t\t\tusernameValid: true,\n\t\t\tmailValid: true,\n\t\t\tretypeMailValid: true,\n\t\t\tpasswordValid: true,\n\t\t\tretypePassValid: true,\n\t\t};\n\n\t\tthis.onUsernameChanged = this.onUsernameChanged.bind(this);\n\t\tthis.onMailChanged = this.onMailChanged.bind(this);\n\t\tthis.onRetypeMailChanged = this.onRetypeMailChanged.bind(this);\n\t\tthis.onPasswordChanged = this.onPasswordChanged.bind(this);\n\t\tthis.onRetypePassChanged = this.onRetypePassChanged.bind(this);\n\t\tthis.onUlaChanged = this.onUlaChanged.bind(this);\n\t\tthis.validateForm = this.validateForm.bind(this);\n\n\t\tthis.handleRegistration = this.handleRegistration.bind(this);\n\t\tthis.renderConfirmation = this.renderConfirmation.bind(this);\n\t\tthis.renderForm = this.renderForm.bind(this);\n\t}\n\n\tvalidateForm() {\n\t\t/*Make sure all fields are okay*/\n\t\tconst isValid = (\n\t\t\tthis.state.usernameValid && this.state.username.length > 0 && \n\t\t\tthis.state.mailValid && this.state.mail.length > 0 && \n\t\t\tthis.state.retypeMailValid && this.state.retypeMail.length > 0 && \n\t\t\tthis.state.passwordValid && this.state.password.length > 0 && \n\t\t\tthis.state.retypePassValid && this.state.retypePass.length > 0 && \n\t\t\tthis.state.ula\n\t\t);\n\t\treturn isValid;\n\t}\n\n\tonUsernameChanged(e) {\n\t\tconst username = e.target.value;\n\t\tconst isValid = (\n\t\t\tusername != null && \n\t\t\tusername.length >= config.login.USERNAME_MIN_LENGTH && \n\t\t\tusername.length <= config.login.USERNAME_MAX_LENGTH\n\t\t);\n\t\tthis.setState({\n\t\t\tusername: username,\n\t\t\tusernameValid: isValid,\n\t\t});\n\t}\n\t\n\tonMailChanged(e) {\n\t\tconst mail = e.target.value;\n    const re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\t\tconst isValid = (\n\t\t\tmail != null && \n\t\t\tmail.length >= config.login.EMAIL_MIN_LENGTH && \n\t\t\tmail.length <= config.login.EMAIL_MAX_LENGTH && \n\t\t\tre.test(mail)\n\t\t);\n\t\tconst retypeMailValid = (mail === this.state.retypeMail);\n\t\tthis.setState({\n\t\t\tmail: mail,\n\t\t\tmailValid: isValid,\n\t\t\tretypeMailValid: retypeMailValid,\n\t\t});\n\t}\n\n\tonRetypeMailChanged(e) {\n\t\tconst retypeMail = e.target.value;\n\t\tconst isValid = (retypeMail === this.state.mail);\n\t\tthis.setState({\n\t\t\tretypeMail: retypeMail,\n\t\t\tretypeMailValid: isValid,\n\t\t});\n\t}\n\n\tonPasswordChanged(e) {\n\t\tconst password = e.target.value;\n\t\tconst reLowerCase = /[a-z]/;\n\t\tconst reNumber = /[0-9]/;\n\t\tconst isValid = (\n\t\t\tpassword != null && \n\t\t\tpassword.length >= config.login.PASSWORD_MIN_LENGTH && \n\t\t\tpassword.length <= config.login.PASSWORD_MAX_LENGTH && \n\t\t\treLowerCase.test(password) && \n\t\t\treNumber.test(password)\n\t\t);\n\t\tconst retypePassValid = (password === this.state.retypePass);\n\t\tthis.setState({\n\t\t\tpassword: password,\n\t\t\tpasswordValid: isValid,\n\t\t\tretypePassValid: retypePassValid,\n\t\t});\n\t}\n\n\tonRetypePassChanged(e) {\n\t\tconst retypePass = e.target.value;\n\t\tconst isValid = (retypePass === this.state.password);\n\t\tthis.setState({\n\t\t\tretypePass: retypePass,\n\t\t\tretypePassValid: isValid,\n\t\t});\n\t}\n\n\tonUlaChanged(e) {\n\t\tthis.setState({\n\t\t\tula: e.target.checked,\n\t\t});\n\t}\n\n\n\thandleRegistration = async event => {\n\t\t/*use signUp function to register*/\n\t\tevent.preventDefault();\n\t\tthis.setState({ isLoading: true });\n\t\ttry {\n\t\t\tconst newUser = await Auth.signUp({\n\t\t\t\tusername: this.state.username,\n\t\t\t\tpassword: this.state.password,\n\t\t\t\tattributes: {\n\t\t\t\t\temail: this.state.mail,\n\t\t\t\t},\n\t\t\t});\n\t\t\tthis.setState({\n\t\t\t\tnewUser\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tif (e.code === 'UsernameExistsException') {\n\t\t\t\tlet strings = new LocalizedStrings({\n\t\t\t\t\ten: { msg: 'Error: username already exists', },\n\t\t\t\t\tfi: { msg: 'Virhe: käyttäjätunnus on jo käytössä', },\n\t\t\t\t});\n\t\t\t\tstrings.setLanguage(this.props.match.params.language);\n\t\t\t\talert(strings.msg);\n\t\t\t}\n\t\t\telse {\n\t\t\t\talert(e.message);\n\t\t\t}\n\t\t}\n\t\tthis.setState({ isLoading: false });\n\t}\n\n\trenderConfirmation() {\n\t\tlet strings = new LocalizedStrings({\n      en:{\n        successHeader: 'Registration successfull!',\n\t\t\t\tsuccessText: ' A confirmation email has been sent to ' + this.state.mail + \n\t\t\t\t'. You must click the confirmation link in the email, before you can sign in.',\n\t\t\t\tloginBtnText: 'Login',\n      },\n      fi: {\n        successHeader: 'Rekisteröinti onnistui!',\n\t\t\t\tsuccessText: 'Sähköpostiisi ' + this.state.mail + \n\t\t\t\t\t' on lähetetty vahvistusviesti, jonka vahvistuslinkkiä sinun tulee' + \n\t\t\t\t\t' klikata ennen kuin voit kirjautua sisään.',\n\t\t\t\tloginBtnText: 'Kirjaudu',\n      }\n    });\n    strings.setLanguage(this.props.match.params.language);\n\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<h2>{strings.successHeader}</h2>\n\t\t\t\t<p>{strings.successText}</p>\n\t\t\t\t<Button className=\"main-btn\">{strings.loginBtnText}</Button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderForm() {\n    const { VInput, } = commonComponents;\n    let strings = new LocalizedStrings({\n      en:{\n        username:\"Username:\",\n        register:\"Register\",\n        password:\"Password:\",\n        passwordAgain:\"Password again:\",\n        email:\"Email:\",\n        emailAgain:\"Email again:\",\n\t\t\t\tacceptUla:\"I Accept the User Agreement\",\n\t\t\t\talreadyRegistered:\"Already registered? \",\n\t\t\t\tloginHere:\"Login here!\",\n      },\n      fi: {\n        username:\"Käyttäjätunnus:\",\n        register:\"Rekisteröidy\",\n        password:\"Salasana:\",\n        passwordAgain:\"Salasana uudelleen:\",\n        email:\"Sähköposti:\",\n        emailAgain:\"Sähköposti uudelleen:\",\n        acceptUla:\"Hyväksyn käyttäjäehdot\",\n\t\t\t\talreadyRegistered:\"Oletko jo rekisteröitynyt? \",\n\t\t\t\tloginHere:\"Kirjaudu sisään tästä!\",\n      }\n    });\n    strings.setLanguage(this.props.match.params.language);\n\n\n\n\t\t/*The first form where the user enters info needed for an account*/\n\t\treturn (\n\t\t\t<div id=\"register\" className=\"max-w-40\">\n\t\t\t\t<h2>{strings.register}</h2>\n\t\t\t\t<Form onSubmit={this.handleRegistration}>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Label>{strings.username}</Label>\n\t\t\t\t\t\t<VInput type=\"text\" name=\"username\" isValid={this.state.usernameValid} value={this.state.username} onChange={this.onUsernameChanged} required autoFocus />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Label>{strings.password}</Label>\n\t\t\t\t\t\t<VInput type=\"password\" name=\"password\" isValid={this.state.passwordValid} value={this.state.password} onChange={this.onPasswordChanged}/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Label>{strings.passwordAgain}</Label>\n\t\t\t\t\t\t<VInput type=\"password\" name=\"retypePass\" isValid={this.state.retypePassValid} value={this.state.retypePass} onChange={this.onRetypePassChanged}/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Label>{strings.email}</Label>\n\t\t\t\t\t\t<VInput type=\"email\" name=\"mail\" isValid={this.state.mailValid} value={this.state.mail} onChange={this.onMailChanged}/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Label>{strings.emailAgain}</Label>\n\t\t\t\t\t\t<VInput type=\"email\" name=\"retypeMail\" isValid={this.state.retypeMailValid} value={this.state.retypeMail} onChange={this.onRetypeMailChanged}/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup check>\n\t\t\t\t\t\t<Label check>{' '}\n\t\t\t\t\t\t\t<VInput type=\"checkbox\" name=\"ula\" value={this.state.ula} onChange={this.onUlaChanged}/>\n\t\t\t\t\t\t\t{strings.acceptUla}\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</FormGroup>\n\n\t\t\t\t\t<VInput type=\"submit\" value={strings.register} isValid={this.validateForm} className=\"main-btn big-btn max-w-10\" />\n\t\t\t\t</Form>\n\t\t\t\t<div>\n\t\t\t\t\t{strings.alreadyRegistered}\n\t\t\t\t\t<Link to={'/' + this.props.match.params.language + '/login/'}>\n          \t{strings.loginHere}\n        \t</Link>\n\t\t\t\t</div>\n\t\t\t\t{/*<Social_Login/>*/}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\t/*decide which form to show, based on whether there is a 'newUser'*/\n\t\treturn (\n\t\t\tthis.state.newUser === null\n\t\t\t? this.renderForm()\n\t\t\t: this.renderConfirmation()\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}