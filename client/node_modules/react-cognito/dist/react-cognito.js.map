{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap dfa6b324208577ec138a","webpack:///./src/index.js","webpack:///./src/reducers.js","webpack:///external {\"root\":\"AmazonCognitoIdentity\",\"commonjs2\":\"amazon-cognito-identity-js\",\"commonjs\":\"amazon-cognito-identity-js\",\"amd\":\"amazon-cognito-identity-js\"}","webpack:///./src/states.js","webpack:///./src/actions.js","webpack:///./src/utils.js","webpack:///external \"aws-sdk/global\"","webpack:///./src/guard.js","webpack:///./src/auth.js","webpack:///./src/attributes.js","webpack:///./src/policy.js","webpack:///./src/Login.jsx","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"ReactRedux\",\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\"}","webpack:///./src/Logout.jsx","webpack:///./~/prop-types/index.js","webpack:///./~/prop-types/factoryWithTypeCheckers.js","webpack:///./~/prop-types/~/fbjs/lib/emptyFunction.js","webpack:///./~/prop-types/~/fbjs/lib/invariant.js","webpack:///./~/prop-types/~/fbjs/lib/warning.js","webpack:///./~/object-assign/index.js","webpack:///./~/prop-types/lib/ReactPropTypesSecret.js","webpack:///./~/prop-types/checkPropTypes.js","webpack:///./src/NewPasswordRequired.jsx","webpack:///./src/EmailVerification.jsx","webpack:///./src/PasswordReset.jsx","webpack:///./src/Confirm.jsx"],"names":["initial","user","cache","userName","email","state","LOGGED_OUT","error","userPool","attributes","creds","groups","config","region","clientId","identityPool","configure","action","AWS","pool","UserPoolId","ClientId","getCurrentUser","Object","assign","addAttributes","s","s2","cognito","type","AUTHENTICATED","LOGGING_IN","LOGGED_IN","username","MFA_REQUIRED","NEW_PASSWORD_REQUIRED","CONFIRMATION_REQUIRED","EMAIL_VERIFICATION_REQUIRED","CognitoState","Action","authenticated","loggingIn","login","logout","partialLogout","loginFailure","mfaRequired","newPasswordRequired","newPasswordRequiredFailure","emailVerificationRequired","emailVerificationFailed","beginPasswordResetFlow","continuePasswordResetFlow","finishPasswordResetFlow","updateAttributes","confirmationRequired","confirmFailed","clearCache","changePassword","oldPassword","newPassword","Promise","resolve","reject","err","result","message","buildLogins","jwtToken","loginDomain","loginUrl","IdentityPoolId","Logins","LoginId","getGroups","payload","split","decodedToken","JSON","parse","base64","decode","toString","testLoggedIn","wantLoggedIn","isLoggedIn","permitted","expr","loggedIn","undefined","guard","store","forbiddenUrl","routeState","replace","callback","getState","dest","then","allow","createGuard","emailVerificationFlow","required","refreshIdentityCredentials","logins","refresh","performLogin","group","getSession","session","getIdToken","getJwtToken","includes","getUsername","authenticate","password","dispatch","Username","Password","Pool","authenticateUser","onSuccess","onFailure","code","registerUser","signUp","userConfirmed","sendAttributeVerificationCode","attribute","getAttributeVerificationCode","inputVerificationCode","getUserAttributes","i","length","name","getName","value","getValue","mkAttrList","keys","map","Name","key","Value","attributeList","enable","f","params","subscribe","email_verified","fetchAttributes","direct","identityPoolLogin","setupCognito","listeners","forEach","BaseLogin","cloneElement","props","children","onSubmit","mapStateToProps","mapDispatchToProps","authenticator","mergeProps","stateProps","dispatchProps","ownProps","Login","Logout","onClick","event","context","signOut","preventDefault","onLogout","Component","contextTypes","object","propTypes","any","isRequired","func","defaultProps","BaseNewPasswordRequired","setNewPassword","userAttributes","completeNewPasswordChallenge","setNewPasswordPartial","NewPasswordRequired","BaseEmailVerification","onCancel","verifyEmail","verificationCode","verifyAttribute","verifyPartial","EmailVerification","BasePasswordReset","sendVerificationCode","setPassword","getUser","confirmPassword","forgotPassword","sendVerificationCodePartial","setPasswordPartial","PasswordReset","BaseConfirm","onResend","confirm","confirmRegistration","resend","resendConfirmationCode","confirmPartial","onResendPartial","Confirm"],"mappings":"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;;;;GAxByB,gBAAMM,S;;AA0BlCP,QAAOQ,YAAP,GAAsB;AACpBtF,UAAO,oBAAUuF;AADG,EAAtB;AAGAT,QAAOU,SAAP,GAAmB;AACjBpB,aAAU,oBAAUqB,GAAV,CAAcC,UADP;AAEjBN,aAAU,oBAAUO;AAFH,EAAnB;AAIAb,QAAOc,YAAP,GAAsB;AACpBR,aAAU,oBAAM,CAAE;AADE,EAAtB,C;;;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,2CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV,8BAA6B;AAC7B,SAAQ;AACR;AACA;AACA;AACA;AACA,gCAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,6BAA4B;AAC5B,QAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;AC7hBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gC;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sDAAqD;AACrD,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA,2BAA0B;AAC1B;AACA;AACA;;AAEA,4B;;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,uFAAsF,aAAa;AACnG;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA,cAAa;AACb;;AAEA;AACA,6FAA4F,eAAe;AAC3G;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0B;;;;;;;;;AC7DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH,mCAAkC;AAClC;AACA;AACA;;AAEA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAAgG;AAChG;AACA,UAAS;AACT;AACA;AACA,iGAAgG;AAChG;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;AC1DA;;;;AACA;;AACA;;;;AAEA,KAAMS,0BAA0B,SAA1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","file":"react-cognito.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"amazon-cognito-identity-js\"), require(\"aws-sdk/global\"), require(\"react\"), require(\"react-redux\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"amazon-cognito-identity-js\", \"aws-sdk/global\", \"react\", \"react-redux\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactCognito\"] = factory(require(\"amazon-cognito-identity-js\"), require(\"aws-sdk/global\"), require(\"react\"), require(\"react-redux\"));\n\telse\n\t\troot[\"ReactCognito\"] = factory(root[\"AmazonCognitoIdentity\"], root[\"aws-sdk/global\"], root[\"React\"], root[\"ReactRedux\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dfa6b324208577ec138a","export * from './reducers';\nexport * from './actions';\nexport * from './states';\nexport * from './utils';\nexport * from './guard';\nexport * from './auth';\nexport * from './attributes';\nexport * from './policy';\n\n\nexport * from './Login.jsx';\nexport * from './Logout.jsx';\nexport * from './NewPasswordRequired.jsx';\nexport * from './EmailVerification.jsx';\nexport * from './PasswordReset.jsx';\nexport * from './Confirm.jsx';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { CognitoUserPool } from 'amazon-cognito-identity-js';\nimport { CognitoState } from './states';\n\n/* global AWS */\n\nconst initial = {\n  user: null,\n  cache: { // cached for post register login\n    userName: null,\n    email: null,\n  },\n  state: CognitoState.LOGGED_OUT,\n  error: '',\n  userPool: null,\n  attributes: {},\n  creds: null,\n  groups: [],\n  config: {\n    region: null,\n    userPool: null,\n    clientId: null,\n    identityPool: null,\n  },\n};\n\nconst configure = (state, action) => {\n  // surprise side-effect!\n  AWS.config.region = action.config.region;\n  const pool = new CognitoUserPool({\n    UserPoolId: action.config.userPool,\n    ClientId: action.config.clientId,\n  });\n  const user = pool.getCurrentUser();\n  return Object.assign({}, state, {\n    config: action.config,\n    userPool: pool,\n    user,\n  });\n};\n\n// sometimes we don't get the attributes in later parts of the login flow\n// but lets not clobber the ones we've got if we've not got them\nconst addAttributes = (s, attributes) => {\n  const s2 = Object.assign({}, s);\n  if (attributes) {\n    s2.attributes = attributes;\n  }\n  return s2;\n};\n\n/**\n * reducer function to be passed to redux combineReducers\n * @param {object} state\n * @param {object} action\n*/\n\nexport const cognito = (state = initial, action) => {\n  switch (action.type) {\n\n    case 'COGNITO_CONFIGURE':\n      return configure(state, action);\n\n    case 'COGNITO_AUTHENTICATED':\n      return Object.assign({}, state, {\n        user: action.user,\n        cache: {\n          userName: null,\n          email: null,\n        },\n        error: '',\n        state: CognitoState.AUTHENTICATED,\n      });\n\n    case 'COGNITO_CLEAR_CACHE':\n      return Object.assign({}, state, {\n        cache: {\n          userName: null,\n          email: null,\n        },\n      });\n\n    case 'COGNITO_LOGGING_IN':\n      return Object.assign({}, state, {\n        state: CognitoState.LOGGING_IN,\n        attributes: action.attributes,\n      });\n\n    case 'COGNITO_LOGIN':\n      return Object.assign({}, state, addAttributes({\n        error: '',\n        creds: action.creds,\n        groups: action.groups,\n        state: CognitoState.LOGGED_IN,\n      }, action.attributes));\n\n    case 'COGNITO_LOGOUT':\n      return Object.assign({}, state, {\n        user: null,\n        attributes: {},\n        error: '',\n        creds: null,\n        groups: [],\n        state: CognitoState.LOGGED_OUT,\n      });\n\n    case 'COGNITO_PARTIAL_LOGOUT':\n      return Object.assign({}, state, {\n        user: null,\n        userName: state.user.username,\n        error: '',\n        creds: null,\n        groups: [],\n        state: CognitoState.LOGGED_OUT,\n      });\n\n    case 'COGNITO_LOGIN_FAILURE':\n      return Object.assign({}, state, {\n        user: action.user,\n        state: CognitoState.LOGGED_OUT,\n        error: action.error,\n      });\n\n    case 'COGNITO_LOGIN_MFA_REQUIRED':\n      return Object.assign({}, state, {\n        user: action.user,\n        error: '',\n        state: CognitoState.MFA_REQUIRED,\n      });\n\n    case 'COGNITO_LOGIN_NEW_PASSWORD_REQUIRED':\n      return Object.assign({}, state, {\n        user: action.user,\n        error: '',\n        state: CognitoState.NEW_PASSWORD_REQUIRED,\n      });\n\n    case 'COGNITO_USER_UNCONFIRMED':\n      return Object.assign({}, state, {\n        user: action.user,\n        state: CognitoState.CONFIRMATION_REQUIRED,\n        cache: {\n          userName: action.user.username,\n          email: action.email ? action.email : state.cache.email,\n        },\n      });\n\n    case 'COGNITO_USER_CONFIRM_FAILED':\n      return Object.assign({}, state, {\n        user: action.user,\n        state: CognitoState.CONFIRMATION_REQUIRED,\n        error: action.error,\n      });\n\n    case 'COGNITO_NEW_PASSWORD_REQUIRED_FAILURE':\n      return Object.assign({}, state, {\n        error: action.error,\n        state: CognitoState.NEW_PASSWORD_REQUIRED,\n      });\n\n    case 'COGNITO_EMAIL_VERIFICATION_REQUIRED':\n      return Object.assign({}, state, addAttributes({\n        error: '',\n        state: CognitoState.EMAIL_VERIFICATION_REQUIRED,\n      }, action.attributes));\n\n    case 'COGNITO_EMAIL_VERIFICATION_FAILED':\n      return Object.assign({}, state, addAttributes({\n        error: action.error,\n        state: CognitoState.EMAIL_VERIFICATION_REQUIRED,\n      }, action.attributes));\n\n    case 'COGNITO_BEGIN_PASSWORD_RESET_FLOW':\n      return Object.assign({}, state, {\n        error: action.error,\n      });\n\n    case 'COGNITO_CONTINUE_PASSWORD_RESET_FLOW':\n      return state;\n\n    case 'COGNITO_FINISH_PASSWORD_RESET_FLOW':\n      return state;\n\n    // this moves us into the AUTHENTICATED state, potentially causing\n    // a number of side-effects. this is so we can re-verify the email\n    // address if we have to\n    case 'COGNITO_UPDATE_USER_ATTRIBUTES':\n      return Object.assign({}, state, {\n        attributes: Object.assign({}, state.attributes, action.attributes),\n        state: CognitoState.AUTHENTICATED,\n      });\n\n    default:\n      return state;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"AmazonCognitoIdentity\",\"commonjs2\":\"amazon-cognito-identity-js\",\"commonjs\":\"amazon-cognito-identity-js\",\"amd\":\"amazon-cognito-identity-js\"}\n// module id = 2\n// module chunks = 0","\n/** states stored in store.cognito.state */\nexport const CognitoState = {\n  LOGGED_OUT: 'LOGGED_OUT',\n  AUTHENTICATED: 'AUTHENTICATED',\n  LOGGING_IN: 'LOGGING_IN',\n  LOGGED_IN: 'LOGGED_IN',\n  NEW_PASSWORD_REQUIRED: 'NEW_PASSWORD_REQUIRED',\n  MFA_REQUIRED: 'MFA_REQUIRED',\n  EMAIL_VERIFICATION_REQUIRED: 'EMAIL_VERIFICATION_REQUIRED',\n  CONFIRMATION_REQUIRED: 'CONFIRMATION_REQUIRED',\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/states.js","/**\n * container for all the actions\n*/\nconst Action = {\n\n  configure: config => ({\n    type: 'COGNITO_CONFIGURE',\n    config,\n  }),\n\n  authenticated: user => ({\n    type: 'COGNITO_AUTHENTICATED',\n    user,\n  }),\n\n  loggingIn: attributes => ({\n    type: 'COGNITO_LOGGING_IN',\n    attributes,\n  }),\n\n  login: (creds, attributes, groups) => ({\n    type: 'COGNITO_LOGIN',\n    creds,\n    groups,\n    attributes,\n  }),\n\n  logout: () => ({\n    type: 'COGNITO_LOGOUT',\n  }),\n\n  partialLogout: () => ({\n    type: 'COGNITO_PARTIAL_LOGOUT',\n  }),\n\n  loginFailure: (user, error) => ({\n    type: 'COGNITO_LOGIN_FAILURE',\n    user,\n    error,\n  }),\n\n  mfaRequired: user => ({\n    type: 'COGNITO_LOGIN_MFA_REQUIRED',\n    user,\n  }),\n\n  newPasswordRequired: user => ({\n    type: 'COGNITO_LOGIN_NEW_PASSWORD_REQUIRED',\n    user,\n  }),\n\n  newPasswordRequiredFailure: (user, error) => ({\n    type: 'COGNITO_NEW_PASSWORD_REQUIRED_FAILURE',\n    user,\n    error,\n  }),\n\n  emailVerificationRequired: attributes => ({\n    type: 'COGNITO_EMAIL_VERIFICATION_REQUIRED',\n    attributes,\n  }),\n\n  emailVerificationFailed: (user, error) => ({\n    type: 'COGNITO_EMAIL_VERIFICATION_FAILED',\n    user,\n    error,\n  }),\n\n  beginPasswordResetFlow: (user, error) => ({\n    type: 'COGNITO_BEGIN_PASSWORD_RESET_FLOW',\n    user,\n    error,\n  }),\n\n  continuePasswordResetFlow: user => ({\n    type: 'COGNITO_CONTINUE_PASSWORD_RESET_FLOW',\n    user,\n  }),\n\n  finishPasswordResetFlow: error => ({\n    type: 'COGNITO_FINISH_PASSWORD_RESET_FLOW',\n    error,\n  }),\n\n  updateAttributes: attributes => ({\n    type: 'COGNITO_UPDATE_USER_ATTRIBUTES',\n    attributes,\n  }),\n\n  confirmationRequired: (user, email) => ({\n    type: 'COGNITO_USER_UNCONFIRMED',\n    user,\n    email,\n  }),\n\n  confirmFailed: (user, error) => ({\n    type: 'COGNITO_USER_CONFIRM_FAILED',\n    user,\n    error,\n  }),\n\n  clearCache: () => ({\n    type: 'COGNITO_CLEAR_CACHE',\n  }),\n};\n\nexport { Action };\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions.js","import { util as AWSutil } from 'aws-sdk/global';\n\n/**\n * Change a user's password\n * @param {object} user - the cognito user object\n * @param {string} oldPassword - the current password\n * @param {string} newPassword - the new password\n*/\nconst changePassword = (user, oldPassword, newPassword) =>\n  new Promise((resolve, reject) =>\n    user.changePassword(oldPassword, newPassword, (err, result) => {\n      if (err) {\n        reject(err.message);\n      } else {\n        resolve(result);\n      }\n    }));\n\n/**\n * builds the federated identity pool login structure\n * @param {string} username - the username of the user\n * @param {string} jwtToken - a JWT Token from the session\n * @param {object} config - the cognito react config object\n*/\nconst buildLogins = (username, jwtToken, config) => {\n  const loginDomain = `cognito-idp.${config.region}.amazonaws.com`;\n  const loginUrl = `${loginDomain}/${config.userPool}`;\n  const creds = {\n    IdentityPoolId: config.identityPool,\n    Logins: {},\n    LoginId: username, // https://github.com/aws/aws-sdk-js/issues/609\n  };\n  creds.Logins[loginUrl] = jwtToken;\n  return creds;\n};\n\n/**\n * Decode a jwtToken to check for cognito:groups\n * @param {string} jwtToken - a JWT Token from the session\n */\nconst getGroups = (jwtToken) => {\n  const payload = jwtToken.split('.')[1];\n  const decodedToken = JSON.parse(AWSutil.base64.decode(payload).toString('utf8'));\n  // decodedToken['cognito:groups'] can be undefined if user is in no groups\n  if (!decodedToken['cognito:groups']) {\n    return [];\n  }\n  return decodedToken['cognito:groups'];\n};\n\nexport {\n  changePassword,\n  buildLogins,\n  getGroups,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-sdk/global\"\n// module id = 6\n// module chunks = 0","\n/*\n Default behaviour is to restrict access to only logged in users\n*/\n\nconst testLoggedIn = (state, wantLoggedIn) => {\n  const isLoggedIn = state.cognito.user !== null;\n  if (isLoggedIn && wantLoggedIn) {\n    return true;\n  }\n  if (!isLoggedIn && !wantLoggedIn) {\n    return true;\n  }\n  return false;\n};\n\nconst permitted = (state, expr) =>\n  new Promise((resolve) => {\n    if (expr.loggedIn !== undefined) {\n      resolve(testLoggedIn(state, expr.loggedIn));\n    } else {\n      resolve(testLoggedIn(state, true));\n    }\n  });\n\nconst guard = (store, forbiddenUrl, expr = {}, routeState, replace, callback) => {\n  const state = store.getState();\n  let dest = forbiddenUrl;\n\n  if (expr.forbiddenUrl !== undefined) {\n    dest = expr.forbiddenUrl;\n  }\n  permitted(state, expr).then((allow) => {\n    if (!allow) {\n      replace(dest);\n    }\n    callback();\n  });\n};\n\n/**\n * creates a guard function you can use in <Route> tags\n * @param {object} store - the redux store\n * @param {string} forbiddenUrl - the default url to navigate to if forbidden\n * @returns {function} - a function that can be provided to onEnter\n*/\nconst createGuard = (store, forbiddenUrl) => expr => (state, replace, callback) =>\n  guard(store, forbiddenUrl, expr, state, replace, callback);\n\n\nexport { createGuard };\n\n\n\n// WEBPACK FOOTER //\n// ./src/guard.js","import { CognitoUser, AuthenticationDetails } from 'amazon-cognito-identity-js';\nimport { CognitoIdentityCredentials } from 'aws-sdk/global';\nimport { Action } from './actions';\nimport { getUserAttributes, mkAttrList, sendAttributeVerificationCode } from './attributes';\nimport { buildLogins, getGroups } from './utils';\n\n/**\n * sends the email verification code and transitions to the correct state\n * @param {object} user - the CognitoUser object\n * @param {object} attributes - the attributes dictionary\n * @return {Promise<object>} a promise that resolves to a redux action\n*/\nconst emailVerificationFlow = (user, attributes) =>\n  new Promise(resolve =>\n    sendAttributeVerificationCode(user, 'email').then((required) => {\n      if (required) {\n        resolve(Action.emailVerificationRequired(attributes));\n      } else {\n        // dead end?\n        resolve(Action.loggingIn(attributes));\n      }\n    }, (error) => {\n      // some odd classes of error here\n      resolve(Action.emailVerificationFailed(error, attributes));\n    }));\n\n/**\n * logs in to the federated identity pool with a JWT\n * @param {string} username - the username\n * @param {string} jwtToken - a token from the session\n * @param {object} config - the react-cognito config\n * @return {Promise<object>} a promise that resolves to the federated identity credentials\n*/\nconst refreshIdentityCredentials = (username, jwtToken, config) =>\n  new Promise((resolve, reject) => {\n    const logins = buildLogins(username, jwtToken, config);\n    const creds = new CognitoIdentityCredentials(logins, { region: config.region });\n    creds.refresh((error) => {\n      if (error) {\n        reject(error.message);\n      } else {\n        resolve(creds);\n      }\n    });\n  });\n\n/**\n * establishes a session with the user pool, and logs into the federated identity\n * pool using a token from the session\n * @param {object} user - the CognitoUser object\n * @param {object} config -the react-cognito config\n * @return {Promise<object>} an action to be dispatched\n*/\nconst performLogin = (user, config, group) =>\n  new Promise((resolve, reject) => {\n    if (user === null) {\n      resolve(Action.logout());\n    } else {\n      user.getSession((err, session) => {\n        if (err) {\n          resolve(Action.loginFailure(user, err.message));\n        } else {\n          const jwtToken = session.getIdToken().getJwtToken();\n          const groups = getGroups(jwtToken);\n          if (group && !groups.includes(group)) {\n            return resolve(Action.loginFailure(user, 'Insufficient privilege'));\n          }\n\n          const username = user.getUsername();\n          refreshIdentityCredentials(username, jwtToken, config).then(\n            (creds) => {\n              getUserAttributes(user).then((attributes) => {\n                resolve(Action.login(creds, attributes, groups));\n              });\n            },\n            message => resolve(Action.loginFailure(user, message)));\n        }\n      });\n    }\n  });\n\n/**\n *\n * Authenticates with a user pool, and handles responses.\n * if the authentication is successful it then logs in to the\n * identity pool.\n *\n * returns an action depending on the outcome.  Possible actions returned\n * are:\n *\n * - login - valid user who is logged in\n * - loginFailure - failed to authenticate with user pool or identity pool\n * - mfaRequired - user now needs to enter MFA\n * - newPasswordRequired - user must change password on first login\n * - emailVerificationRequired - user must verify their email address\n * - emailVerificationFailed - email verification is required, but won't work\n *\n * Dispatch the resulting action, e.g.:\n *\n * ```\n * const { userPool, config } = state.cognito;\n * authenticate(username, password, userPool, config).then(dispatch);\n * ```\n *\n * @param {string} username - the username provided by the user\n * @param {string} password - the password provided by the user\n * @param {object} userPool - a Cognito User Pool object\n * @return {Promise<object>} - a promise that resolves an action to be dispatched\n *\n*/\nconst authenticate = (username, password, userPool, config, dispatch) =>\n  new Promise((resolve, reject) => {\n    const creds = new AuthenticationDetails({\n      Username: username,\n      Password: password,\n    });\n\n    const user = new CognitoUser({\n      Username: username,\n      Pool: userPool,\n    });\n\n    user.authenticateUser(creds, {\n      onSuccess: () => {\n        dispatch(Action.authenticated(user));\n        resolve();\n      },\n      onFailure: (error) => {\n        if (error.code === 'UserNotConfirmedException') {\n          dispatch(Action.confirmationRequired(user));\n          resolve();\n        } else {\n          dispatch(Action.loginFailure(user, error.message));\n          reject(error);\n        }\n      },\n      mfaRequired: () => {\n        dispatch(Action.mfaRequired(user));\n        resolve();\n      },\n      newPasswordRequired: () => {\n        dispatch(Action.newPasswordRequired(user));\n        resolve();\n      },\n    });\n  });\n\n/**\n * sign up this user with the user pool provided\n * @param {object} userPool - a Cognito userpool (e.g. state.cognito.userPool)\n * @param {object} config - the react-cognito config object\n * @param {string} username - the username\n * @param {string} password - the password\n * @param {object} attributes - an attributes dictionary\n * @return {Promise<object>} a promise that resolves a redux action\n*/\nconst registerUser = (userPool, config, username, password, attributes) =>\n  new Promise((resolve, reject) =>\n    userPool.signUp(username, password, mkAttrList(attributes), null, (err, result) => {\n      if (err) {\n        reject(err.message);\n      } else if (result.userConfirmed === false) {\n        resolve(Action.confirmationRequired(result.user, attributes.email));\n      } else {\n        resolve(authenticate(username, password, userPool));\n      }\n    }));\n\n\nexport {\n  authenticate,\n  performLogin,\n  registerUser,\n  emailVerificationFlow,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth.js","\nimport { Action } from './actions';\n\n/**\n * Request that a verification code is sent by email or SMS to verify\n * an attribute\n * @param {object} user - the cognito user object\n * @param {string} attribute - the attribute name\n*/\nconst sendAttributeVerificationCode = (user, attribute) =>\n  new Promise((resolve, reject) => {\n    user.getAttributeVerificationCode(attribute, {\n      onSuccess: () => resolve(false),\n      inputVerificationCode: () => resolve(true),\n      onFailure: error => reject(error.message),\n    });\n  });\n\n/**\n * Fetches the user attributes from Cognito, and turns them into\n * an object\n * @param {object} user - the cognito user object\n * @returns {Promise} resolves with the attributes or rejects with an error message\n*/\nconst getUserAttributes = user =>\n  new Promise((resolve, reject) =>\n    user.getUserAttributes((error, result) => {\n      if (error) {\n        reject(error.message);\n      } else {\n        const attributes = {};\n        for (let i = 0; i < result.length; i += 1) {\n          const name = result[i].getName();\n          const value = result[i].getValue();\n          attributes[name] = value;\n        }\n        resolve(attributes);\n      }\n    }),\n  );\n\n/**\n * convert an attribute dictionary to an attribute list\n * @param {object} attributes - a dictionary of attributes\n * @return {array} AWS expected attribute list\n*/\nconst mkAttrList = attributes =>\n  Object.keys(attributes).map(key => ({\n    Name: key,\n    Value: attributes[key],\n  }));\n\n/**\n * update the attributes in Cognito\n * @param {object} user - the CognitoUser object\n * @param {object} attributes - an attributes dictionary with the attributes to be updated\n * @return {Promise<object>} a promise that resolves to a redux action\n*/\nconst updateAttributes = (user, attributes) =>\n  new Promise((resolve, reject) => {\n    const attributeList = mkAttrList(attributes);\n    user.updateAttributes(attributeList, (err) => {\n      if (err) {\n        reject(err.message);\n      } else {\n        resolve(Action.updateAttributes(attributes));\n      }\n    });\n  });\n\nexport {\n  sendAttributeVerificationCode,\n  getUserAttributes,\n  updateAttributes,\n  mkAttrList,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/attributes.js","import { Action } from './actions';\nimport { getUserAttributes } from './attributes';\nimport { emailVerificationFlow, performLogin } from './auth';\nimport { CognitoState } from './states';\n\n/**\n * subscribes a \"policy\" function to the store, and calls it\n * with the state and the dispatch function\n * @param {object} store - the redux store\n * @param {function} f - f(state, dispatch)\n*/\nconst enable = (store, f, params) => {\n  store.subscribe(() => {\n    const state = store.getState();\n    const dispatch = store.dispatch;\n    f(state, dispatch, params);\n  });\n};\n\n/**\n * requires email verification before transitioning from AUTHENTICATED\n * @param {object} state - the redux store state\n * @param {function} dispatch - the dispatch function\n*/\nconst emailVerificationRequired = (state, dispatch) => {\n  if (state.cognito.state === CognitoState.AUTHENTICATED) {\n    const user = state.cognito.user;\n    getUserAttributes(user).then((attributes) => {\n      if (attributes.email_verified !== 'true') {\n        emailVerificationFlow(user, attributes).then(dispatch);\n      } else {\n        dispatch(Action.loggingIn(attributes));\n      }\n    });\n  }\n};\n\n/**\n * fetches and stores attributes before transitioning from AUTHENTICATED\n * @param {object} state - the redux store state\n * @param {function} dispatch - the dispatch function\n*/\nconst fetchAttributes = (state, dispatch) => {\n  if (state.cognito.state === CognitoState.AUTHENTICATED) {\n    const user = state.cognito.user;\n    getUserAttributes(user).then((attributes) => {\n      dispatch(Action.loggingIn(attributes));\n    });\n  }\n};\n\n/**\n * transitions directly from AUTHENTICATED to LOGGING_IN\n * @param {object} state - the redux store state\n * @param {function} dispatch - the dispatch function\n*/\nconst direct = (state, dispatch) => {\n  if (state.cognito.state === CognitoState.AUTHENTICATED) {\n    dispatch(Action.loggingIn());\n  }\n};\n\n/**\n * logs into the single federated identity pool to transition from LOGGING_IN\n * to LOGGED_IN\n * @param {object} state - the redux store state\n * @param {function} dispatch - the dispatch function\n*/\nconst identityPoolLogin = (state, dispatch, group) => {\n  if (state.cognito.state === CognitoState.LOGGING_IN) {\n    performLogin(state.cognito.user, state.cognito.config, group).then(dispatch);\n  }\n};\n\n/**\n * sets up react-cognito with default policies.\n*/\nconst setupCognito = (store, config, listeners =\n  [emailVerificationRequired, identityPoolLogin]) => {\n  store.dispatch(Action.configure(config));\n  listeners.forEach((f) => {\n    enable(store, f, config.group);\n  });\n  store.dispatch(Action.loggingIn({}));\n};\n\nexport {\n  setupCognito,\n  enable,\n  direct,\n  fetchAttributes,\n  emailVerificationRequired,\n  identityPoolLogin,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/policy.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport { authenticate } from './auth';\nimport { Action } from './actions';\n\nconst BaseLogin = props =>\n  React.cloneElement(props.children, {\n    username: props.username,\n    email: props.email,\n    onSubmit: props.onSubmit,\n    clearCache: props.clearCache,\n    error: props.error,\n  });\n\nconst mapStateToProps = (state) => {\n  let username = '';\n  if (state.cognito.user) {\n    username = state.cognito.user.getUsername();\n  } else if (state.cognito.userName) {\n    username = state.cognito.cache.userName;\n  }\n  return {\n    username,\n    email: state.cognito.cache.email,\n    config: state.cognito.config,\n    userPool: state.cognito.userPool,\n    error: state.cognito.error,\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  authenticator: (username, password, userPool, config) =>\n    authenticate(username, password, userPool, config, dispatch),\n  clearCache: () => dispatch(Action.clearCache()),\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) =>\n  Object.assign({}, ownProps, stateProps, {\n    onSubmit: (username, password) =>\n      dispatchProps.authenticator(username, password, stateProps.userPool, stateProps.config),\n    clearCache: dispatchProps.clearCache,\n  });\n\n/**\n * Container for login behaviour, wrapping a login form.\n *\n * Magically provides the following props to the wrapped form:\n *\n *  * username\n *  * onSubmit\n *\n * @example\n * <Login>\n *   <LoginForm />\n * </Login>\n */\nconst Login = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeProps,\n)(BaseLogin);\n\nexport { Login };\n\n\n\n// WEBPACK FOOTER //\n// ./src/Login.jsx","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 12\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"ReactRedux\",\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\"}\n// module id = 13\n// module chunks = 0","import React from 'react';\nimport PropTypes from 'prop-types'\nimport { Action } from './actions';\n\n/**\n * Container for logout behaviour.\n * @example\n * <Logout onLogout={handler}>\n *   <LogoutForm />\n * </Logout>\n */\nexport class Logout extends React.Component {\n\n  /**\n   * Passed to child element as onClick prop.\n   * Signs the user out, and then dispatches the logout action\n   * If you want to take further actions (like reloading UI) then add an\n   * onLogout property to the Logout element\n   */\n  onClick = (event) => {\n    const { store } = this.context;\n    const state = store.getState();\n    state.cognito.user.signOut();\n    event.preventDefault();\n    store.dispatch(Action.logout());\n    this.props.onLogout();\n  }\n\n  /**\n   * renders the child element, adding an onClick property\n   */\n  render() {\n    return React.cloneElement(this.props.children, {\n      onClick: this.onClick,\n    });\n  }\n}\nLogout.contextTypes = {\n  store: PropTypes.object,\n};\nLogout.propTypes = {\n  children: PropTypes.any.isRequired,\n  onLogout: PropTypes.func,\n};\nLogout.defaultProps = {\n  onLogout: () => {},\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/Logout.jsx","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/index.js\n// module id = 15\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          invariant(\n            false,\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            warning(\n              false,\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `%s` prop on `%s`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.',\n              propFullName,\n              componentName\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunction.thatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n      return emptyFunction.thatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (propValue.hasOwnProperty(key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunction.thatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        warning(\n          false,\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received %s at index %s.',\n          getPostfixForTypeWarning(checker),\n          i\n        );\n        return emptyFunction.thatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/factoryWithTypeCheckers.js\n// module id = 16\n// module chunks = 0","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/~/fbjs/lib/emptyFunction.js\n// module id = 17\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/~/fbjs/lib/invariant.js\n// module id = 18\n// module chunks = 0","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar emptyFunction = require('./emptyFunction');\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = emptyFunction;\n\nif (process.env.NODE_ENV !== 'production') {\n  var printWarning = function printWarning(format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  warning = function warning(condition, format) {\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (format.indexOf('Failed Composite propType: ') === 0) {\n      return; // Ignore CompositeComponent proptype check.\n    }\n\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/~/fbjs/lib/warning.js\n// module id = 19\n// module chunks = 0","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/object-assign/index.js\n// module id = 20\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/lib/ReactPropTypesSecret.js\n// module id = 21\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== 'production') {\n  var invariant = require('fbjs/lib/invariant');\n  var warning = require('fbjs/lib/warning');\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          invariant(typeof typeSpecs[typeSpecName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'the `prop-types` package, but received `%s`.', componentName || 'React class', location, typeSpecName, typeof typeSpecs[typeSpecName]);\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        warning(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error);\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          warning(false, 'Failed %s type: %s%s', location, error.message, stack != null ? stack : '');\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/checkPropTypes.js\n// module id = 22\n// module chunks = 0","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Action } from './actions';\n\nconst BaseNewPasswordRequired = props =>\n  React.cloneElement(props.children, {\n    error: props.error,\n    onSubmit: props.onSubmit,\n  });\n\nconst setNewPassword = (password, user, config, userAttributes, dispatch) =>\n  new Promise((resolve, reject) => {\n    user.completeNewPasswordChallenge(password, userAttributes, {\n      onSuccess: () => {\n        dispatch(Action.authenticated(user));\n        resolve();\n      },\n      onFailure: error => {\n        dispatch(Action.newPasswordRequiredFailure(user, error.message));\n        reject(error);\n      },\n      mfaRequired: () => {\n        dispatch(Action.mfaRequired(user));\n        resolve();\n      },\n      newPasswordRequired: () => {\n        dispatch(Action.newPasswordRequired(user));\n        resolve();\n      },\n    });\n  });\n\nconst mapStateToProps = state => ({\n  error: state.cognito.error,\n  user: state.cognito.user,\n  config: state.cognito.config,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setNewPasswordPartial: (password, user, config, userAttributes) =>\n    setNewPassword(password, user, config, userAttributes, dispatch),\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) =>\n  Object.assign({}, ownProps, stateProps, {\n    onSubmit: (password, userAttributes) =>\n     dispatchProps.setNewPasswordPartial(\n      password,\n      stateProps.user,\n      stateProps.config,\n      userAttributes),\n  });\n\n/**\n * Wrapper for a New Password Required form\n *\n * Magically provides the following props to the wrapped element:\n *\n * * user - the Cognito user\n * * error - the persistent react-cognito error message\n * * onSubmit - a handler that calls the Set New Password API\n *\n * @example\n *\n * <NewPasswordRequired>\n *   <NewPasswordRequiredForm />\n * </NewPasswordRequired>\n */\nexport const NewPasswordRequired = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeProps,\n)(BaseNewPasswordRequired);\n\n\n\n// WEBPACK FOOTER //\n// ./src/NewPasswordRequired.jsx","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Action } from './actions';\n\nconst BaseEmailVerification = props =>\n  React.cloneElement(props.children, {\n    error: props.error,\n    onSubmit: props.onSubmit,\n    onCancel: props.onCancel,\n  });\n\nexport const verifyEmail = (verificationCode, user, dispatch) =>\n  new Promise((resolve, reject) => {\n    user.verifyAttribute('email', verificationCode, {\n      onSuccess: () => {\n        dispatch(Action.login(user));\n        resolve();\n      },\n      inputVerificationCode: () => {\n        dispatch(Action.emailVerificationRequired(user));\n        reject();\n      },\n      onFailure: (error) => {\n        dispatch(Action.emailVerificationFailed(user, error.message));\n        reject();\n      },\n    });\n  });\n\nconst mapStateToProps = state => ({\n  error: state.cognito.error,\n  user: state.cognito.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  verifyPartial: (verificationCode, user) =>\n    verifyEmail(verificationCode, user, dispatch),\n  onCancel: () => dispatch(Action.logout()),\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) =>\n  Object.assign({}, ownProps, stateProps, dispatchProps, {\n    onSubmit: verificationCode =>\n     dispatchProps.verifyPartial(verificationCode, stateProps.user),\n  });\n\n/**\n * Wrapper for an Email Verification Form.\n * Magically adds the following props to the contained form:\n *\n *  * user - the Cognito user from the Redux store\n *  * error - the persisted error from the Redux store\n *  * onSubmit - a handler that calls the Cognito verification API\n *\n * @example\n * <EmailVerification>\n *   <EmailVerificationForm />\n * </EmailVerification>\n *\n */\nexport const EmailVerification = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeProps,\n)(BaseEmailVerification);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EmailVerification.jsx","import React from 'react';\nimport { connect } from 'react-redux';\nimport { CognitoUser } from 'amazon-cognito-identity-js';\nimport { Action } from './actions';\n\nconst BasePasswordReset = props =>\n  React.cloneElement(props.children, {\n    username: props.username,\n    sendVerificationCode: props.sendVerificationCode,\n    setPassword: props.setPassword,\n  });\n\nconst getUser = (username, userPool) => {\n  const user = new CognitoUser({\n    Username: username,\n    Pool: userPool,\n  });\n  return user;\n};\n\nconst setPassword = (username, userPool, code, password, dispatch) =>\n  new Promise((resolve, reject) => {\n    const user = getUser(username, userPool);\n    user.confirmPassword(code, password, {\n      onSuccess: () => {\n        dispatch(Action.finishPasswordResetFlow()),\n        resolve();\n      },\n      onFailure: err => {\n        dispatch(Action.beginPasswordResetFlow(user, err.message)),\n        reject(err);\n      }\n    });\n  });\n\n\nconst sendVerificationCode = (username, userPool, dispatch) =>\n  new Promise((resolve, reject) => {\n    const user = getUser(username, userPool);\n    user.forgotPassword({\n      onSuccess: () => {\n        dispatch(Action.continuePasswordResetFlow(user));\n        resolve();\n      },\n      onFailure: err => {\n        dispatch(Action.beginPasswordResetFlow(user, err.message));\n        reject(err);\n      }\n    });\n  });\n\n\nconst mapStateToProps = (state) => {\n  const props = {\n    user: state.cognito.user,\n    username: '',\n    userPool: state.cognito.userPool,\n  };\n  if (state.cognito.user != null) {\n    props.username = state.cognito.user.getUsername();\n  }\n  return props;\n};\n\nconst mapDispatchToProps = dispatch => ({\n  sendVerificationCodePartial: (username, userPool) =>\n    sendVerificationCode(username, userPool, dispatch),\n  setPasswordPartial: (user, userPool, code, password) =>\n    setPassword(user, userPool, code, password, dispatch),\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) =>\n  Object.assign({}, ownProps, stateProps, {\n    sendVerificationCode: username =>\n      dispatchProps.sendVerificationCodePartial(username, stateProps.userPool),\n    setPassword: (username, code, password) =>\n      dispatchProps.setPasswordPartial(username, stateProps.userPool, code, password),\n  });\n\n/**\n * Container for a Password Reset form\n *\n * Magically provides the following props to the wrapped element:\n *\n *  * user\n *  * username\n *  * sendVerificationCode\n *  * setPassword\n *\n * @example\n * <PasswordReset>\n *   <PasswordResetForm />\n * </PasswordReset>\n */\nexport const PasswordReset = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeProps,\n)(BasePasswordReset);\n\n\n\n// WEBPACK FOOTER //\n// ./src/PasswordReset.jsx","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Action } from './actions';\n\nconst BaseConfirm = props =>\n  React.cloneElement(props.children, {\n    error: props.error,\n    onSubmit: props.onSubmit,\n    onResend: props.onResend,\n    onCancel: props.onCancel,\n  });\n\nconst confirm = (verificationCode, user, dispatch) =>\n  new Promise((resolve, reject) => {\n    user.confirmRegistration(verificationCode, true, (error) => {\n      if (error) {\n        dispatch(Action.confirmFailed(user));\n        reject(error.message);\n      } else {\n        dispatch(Action.partialLogout());\n        resolve(user);\n      }\n    });\n  });\n\nconst resend = (user, dispatch) =>\n  new Promise((resolve, reject) => {\n    user.resendConfirmationCode((err) => {\n      if (err) {\n        dispatch(Action.confirmationRequired(user));\n        reject(err.message);\n      } else {\n        dispatch(Action.confirmationRequired(user));\n        resolve(user);\n      }\n    });\n  });\n\nconst mapStateToProps = state => ({\n  error: state.cognito.error,\n  user: state.cognito.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  confirmPartial: (verificationCode, user) =>\n    confirm(verificationCode, user, dispatch),\n  onCancel: () => dispatch(Action.logout()),\n  onResendPartial: user => resend(user, dispatch),\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) =>\n  Object.assign({}, ownProps, stateProps, dispatchProps, {\n    onSubmit: verificationCode =>\n     dispatchProps.confirmPartial(verificationCode, stateProps.user),\n    onResend: () =>\n     dispatchProps.onResendPartial(stateProps.user),\n  });\n\n/**\n * Container for a confirmation form.  Magically adds the following props to the \n * contained form:\n *\n *  * user - the Cognito User from the redux store\n *  * error - the persisted error from the redux store\n *  * onSubmit - a handler that calls the Cognito confirm API\n *  * onResend - a handler that calls the Cognito resend request API\n *  * onCancel - Logs the user out completely\n *\n * @example\n * <Confirm>\n *   <ConfirmForm />\n * </Confirm>\n *\n */\nexport const Confirm = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeProps,\n)(BaseConfirm);\n\n\n\n// WEBPACK FOOTER //\n// ./src/Confirm.jsx"],"sourceRoot":""}