AWSTemplateFormatVersion: '2010-09-09'
Description: 'sam-app

  Sample SAM Template for sam-app

  '
Globals:
  Function:
    Timeout: 3
Outputs:
  HelloWorldApi:
    Description: API Gateway endpoint URL for Prod stage for Hello World function
    Value:
      Fn::Sub: https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/hello/
  HelloWorldFunction:
    Description: Hello World Lambda Function ARN
    Value:
      Fn::GetAtt:
      - HelloWorldFunction
      - Arn
  HelloWorldFunctionIamRole:
    Description: Implicit IAM Role created for Hello World function
    Value:
      Fn::GetAtt:
      - HelloWorldFunctionRole
      - Arn
  LandingApi:
    Description: API Gateway endpoint URL for Prod stage for landing function
    Value:
      Fn::Sub: https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/landing/
  LandingFunction:
    Description: Landing pageLambda Function ARN
    Value:
      Fn::GetAtt:
      - LandingFunction
      - Arn
  LandingFunctionIamRole:
    Description: Implicit IAM Role created for Landing page function
    Value:
      Fn::GetAtt:
      - LandingFunctionRole
      - Arn
  ProfileApi:
    Description: API Gateway endpoint URL for Prod stage for Profile page function
    Value:
      Fn::Sub: https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/Profile/
  RestaurantApi:
    Description: API Gateway endpoint URL for Prod stage for Restaurant page function
    Value:
      Fn::Sub: https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/Restaurant/
  RestaurantFunction:
    Description: Restaurant page Lambda Function ARN
    Value:
      Fn::GetAtt:
      - RestaurantFunction
      - Arn
  RestaurantFunctionIamRole:
    Description: Implicit IAM Role created for Restaurant page function
    Value:
      Fn::GetAtt:
      - RestaurantFunctionRole
      - Arn
  ReviewsApi:
    Description: API Gateway endpoint URL for Prod stage for reviews function
    Value:
      Fn::Sub: https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/Reviews/
  ReviewsFunction:
    Description: Reviews Lambda Function ARN
    Value:
      Fn::GetAtt:
      - ReviewsFunction
      - Arn
  ReviewsFunctionIamRole:
    Description: Implicit IAM Role created for Reviews page function
    Value:
      Fn::GetAtt:
      - ReviewsFunctionRole
      - Arn
  SearchApi:
    Description: API Gateway endpoint URL for Prod stage for search functionality
    Value:
      Fn::Sub: https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/Search/
  SearchFunction:
    Description: Restaurant search Lambda Function ARN
    Value:
      Fn::GetAtt:
      - SearchFunction
      - Arn
  SearchFunctionIamRole:
    Description: Implicit IAM Role created for Search function
    Value:
      Fn::GetAtt:
      - SearchFunctionRole
      - Arn
Resources:
  AggregationFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/f92ee46b7a4dd148028162f23dc52259
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /dbUpdate
          Type: Api
      Handler: aggregation.aggregationLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  DietAllFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/1af74219204d04f36097ac16e63b7ddb
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /diet/all
          Type: Api
      Handler: diet.getAllDietsLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  DietCreateAdminFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/1af74219204d04f36097ac16e63b7ddb
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /diet/createAdmin
          Type: Api
      Handler: diet.createDietAdminLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  DietCreateFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/1af74219204d04f36097ac16e63b7ddb
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /diet/create
          Type: Api
      Handler: diet.createDietLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  DietGroupsFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/1af74219204d04f36097ac16e63b7ddb
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /diet/groups
          Type: Api
      Handler: diet.getFoodGroupsLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  DietPresetsFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/1af74219204d04f36097ac16e63b7ddb
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /diet/presets
          Type: Api
      Handler: diet.getPresetDietsLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  DietUpdateFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/1af74219204d04f36097ac16e63b7ddb
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /diet/update
          Type: Api
      Handler: diet.updateDietLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  HelloWorldFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/fb60ef7ca6a2d1a2bc3ee04025914aee
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        HelloWorld:
          Properties:
            Method: get
            Path: /hello
          Type: Api
      Handler: app.lambdaHandler
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  LandingFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/8922f020e58a65c856c23ca2a00b13aa
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /landing
          Type: Api
      Handler: landing.lambdaHandler
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  LocationCitiesFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/8c87d6ee39f0e99171089a8a30ea92dd
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /location/cities
          Type: Api
      Handler: location.getCitiesLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  LocationCountriesFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/8c87d6ee39f0e99171089a8a30ea92dd
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /location/countries
          Type: Api
      Handler: location.getCountriesLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  OwnDietsCreateFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/8980b615f07d0c0e0f1a7a1d04eb085e
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /ownDiets/create
          Type: Api
      Handler: own_diet.createOwnDietLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  OwnDietsDeleteFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/8980b615f07d0c0e0f1a7a1d04eb085e
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /ownDiets/delete
          Type: Api
      Handler: own_diet.deleteDietLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  OwnDietsEditFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/8980b615f07d0c0e0f1a7a1d04eb085e
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /ownDiets/edit
          Type: Api
      Handler: own_diet.editOwnDietLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  OwnDietsFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/8980b615f07d0c0e0f1a7a1d04eb085e
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /ownDiets
          Type: Api
      Handler: own_diet.getOwnDietsLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  OwnReviewsDeleteFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/6234822dc2fd89ed382cce2bb7a3d891
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /ownReviews/delete
          Type: Api
      Handler: own_review.deleteReviewLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  OwnReviewsEditFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/6234822dc2fd89ed382cce2bb7a3d891
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /ownReviews/edit
          Type: Api
      Handler: own_review.editReviewLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  OwnReviewsFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/6234822dc2fd89ed382cce2bb7a3d891
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /ownReviews
          Type: Api
      Handler: own_review.getOwnReviewsLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  PostReviewFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/0d29ecb1c3979e60a5c5a379d4a24d28
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /postReview
          Type: Api
      Handler: reviews.postReviewLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  ProfileEditFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/25f8852b94ee03cdfacbe6e40a577b15
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /profile/edit
          Type: Api
      Handler: profile.editProfileLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  ProfileFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/25f8852b94ee03cdfacbe6e40a577b15
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /profile
          Type: Api
      Handler: profile.profileLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  RestaurantFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/3b0ced7fc04fc5c70602adf92e0f1e13
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /restaurant
          Type: Api
      Handler: restaurant.lambdaHandler
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  ReviewsFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/0d29ecb1c3979e60a5c5a379d4a24d28
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /reviews
          Type: Api
      Handler: reviews.lambdaHandler
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  SearchFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/55961362d09e4a6b90097790b96f857f
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /search
          Type: Api
      Handler: search.lambdaHandler
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  UserCreateFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/ecc485a1f28d54a6d3b4f4ee22c9880a
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /user/create
          Type: Api
      Handler: user.createUserLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  UserDeleteFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/ecc485a1f28d54a6d3b4f4ee22c9880a
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /user/delete
          Type: Api
      Handler: user.deleteUserLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
  VoteDietFunction:
    Properties:
      CodeUri: s3://sipuliton-lambdas/1af74219204d04f36097ac16e63b7ddb
      Environment:
        Variables:
          PARAM1: VALUE
      Events:
        Landing:
          Properties:
            Method: get
            Path: /voteDiet
          Type: Api
      Handler: diet.voteDietLambda
      Runtime: nodejs8.10
    Type: AWS::Serverless::Function
Transform: AWS::Serverless-2016-10-31
